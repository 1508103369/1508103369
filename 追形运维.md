F12控制台输入：localStorage.setItem("__FE_DEV__",true) 开启高级配置

## MySQL登录问题

```shell
终端：b get svc -A|grep mysql //查看mysql端口号信息，如果没开NodePort端口的话执行下列操作
	b get svc mysql -n mysql -o yaml >mysqlbak.yaml //先备份文件
	把spec字段的tyep中的"ClusterIP"改为"NodePort" //保存后再执行第一步就能看到端口了
b edit cm common-config //查看mysql的账号密码
如果打开数据库报错的话重启device服务和mysql服务（可多次尝试）
```



## offlineserver反复崩溃

进入mysql 33.98.221.87 

<img src="https://raw.githubusercontent.com/1508103369/image/typora/屏幕截图 2023-12-12 101735.png" alt="屏幕截图 2023-12-12 101735" style="zoom:50%;" />

```shell
在lookonce数据库中找到process_tasks
查看最近创建的任务是否有type==3的任务，有的话在数据库执行下列语句 //修改前最好先备份一下数据库
update process_tasks set deleted_at = NOW() where type = 3 AND deleted_at IS NULL;
执行完在终端重启parsers-manager服务
```

## offlineservice速度限制

```shell
b get deployment gb28181 -o yaml >gb28181.yaml //修改前先备份文件
b edit deploy gb28181 
containers:下面添加2条信息 -name:GB_VIDEO_SPEED / value:”6”  如下
 containers:
      - env:
        - name: GB_VIDEO_SPEED
          value: "2"
        - name: CLUSTER_HOST_IP
          valueFrom:
            fieldRef:
              apiVersion: v1
              fieldPath: status.hostIP
              
修改完在终端重启28181服务
```

![image-20231212103910512](https://raw.githubusercontent.com/1508103369/image/typora/image-20231212103910512.png)





## pod处于pending状态

重启nvidia-plugin服务





## 上传视频报错500，批量导出标签错误

```bash
docker run -it --rm  -v mc:/root/.mc foovideo.com/shipinanquan/minio/mc:RELEASE.2021-05-26T19-19-26Z alias set minio http://10.101.247.86:9000    ip替换成 kubectl get svc minio -n minio 返回的ip
```

<img src="https://raw.githubusercontent.com/1508103369/image/typora/image-20231228085859057.png" alt="image-20231228085859057" style="zoom:33%;" />

查看是否成功，若不成功检查报错信息

<img src="https://raw.githubusercontent.com/1508103369/image/typora/image-20231228090036153.png" alt="image-20231228090036153" style="zoom:33%;" />

这里报错信息为：

```
mc: <ERROR>无法根据提供的凭据初始化新的别名
请求时间与服务器时间相差太大
```

检查所有服务器的时间是否一致

尝试在 vim etc/chrony.conf 修改校时服务器，然后systemctl restart chrony ，看看时间能不能同步

不能的话手动更改时间

```bash
手动设置日期和时间：
sudo date MMDDhhmm[[CC]YY][.ss]
其中，MM 是月份，DD 是日期，hh 是小时（24小时制），mm 是分钟，CC 是世纪（可选），YY 是年份的后两位（如果没有指定世纪），.ss 是秒数（可选）。
例如，将日期设置为 2023 年 12 月 18 日 12:34：
sudo date 121812342023
同步时间：
sudo hwclock --systohc
这将当前系统时间同步到硬件时钟。
```

